
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docs for Statelit">
      
      
        <meta name="author" content="Daniel Reeves">
      
      
        <link rel="canonical" href="https://dwreeves.github.io/Statelit/">
      
      <link rel="icon" href="img/statelit-logo-favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.3.8">
    
    
      
        <title>Statelit</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Opens+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Opens Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="light-blue">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Statelit" class="md-header__button md-logo" aria-label="Statelit" data-md-component="logo">
      
  <img src="img/statelit-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Statelit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/dwreeves/Statelit/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Statelit
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Statelit" class="md-nav__button md-logo" aria-label="Statelit" data-md-component="logo">
      
  <img src="img/statelit-logo.png" alt="logo">

    </a>
    Statelit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dwreeves/Statelit/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Statelit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="." class="md-nav__link md-nav__link--active">
        Home
      </a>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/dwreeves/Statelit/edit/master/docs/index.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<p align="center">
    <img src="https://github.com/dwreeves/statelit/workflows/tests/badge.svg" alt="Tests badge">
    <img src="https://github.com/dwreeves/statelit/workflows/docs/badge.svg" alt="Docs badge">
</p>
<p align="center">
    <img src="https://raw.githubusercontent.com/dwreeves/statelit/main/docs/src/img/statelit-banner.png" alt="Statelit logo">
</p>
<p align="center">
    <em>Easy state management in Streamlit with Pydantic.</em>
</p>

<hr />
<p align="center">
    <a href="https://dwreeves-statelit-demo-streamlit-app-e9b0nf.streamlitapp.com/"><b>‚ú® Statelit demo here! ‚ú®</b></a>
</p>

<hr />
<h1 id="overview">Overview</h1>
<p><strong>Statelit</strong> is an easy way to manage the state of your Streamlit applications using Pydantic.
<strong>Statelit</strong> allows you to import and export dashboard states with just a few extra lines of code.</p>
<p>Reasons to use <strong>Statelit</strong>:</p>
<ul>
<li>üíª <strong>Simpler code:</strong> Just define a Pydantic model, and you get all your widgets for free.</li>
<li>üíæ <strong>Save your work:</strong> Save interesting things you see in an exploratory dashboard that you can come back to later.</li>
<li>üîó <strong>Sharing:</strong> Share interesting insights with your colleagues by giving them a JSON.</li>
<li>üë©‚Äçüîß <strong>Pydantic is useful:</strong> If you build an API that uses Pydantic, interoperating your schema with a dashboard is
   a great way to explore how your app works, especially for machine learning and other quantitative applications.
   Statelit makes this much easier.</li>
</ul>
<h1 id="install">Install</h1>
<p>Via pip:</p>
<div class="highlight"><pre><span></span><code>pip install statelit
</code></pre></div>
<h1 id="example">Example</h1>
<p align="center">
    <a href="https://dwreeves-statelit-demo-2-streamlit-app-fkrqyq.streamlitapp.com/"><b>‚ú® See the below example in action here! ‚ú®</b></a>
</p>

<div class="highlight"><pre><span></span><code><span class="c1"># Requires `pip install matplotlib numpy`</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">streamlit</span> <span class="k">as</span> <span class="nn">st</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="kn">from</span> <span class="nn">statelit</span> <span class="kn">import</span> <span class="n">StateManager</span>


<span class="k">class</span> <span class="nc">AppState</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">372193</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10_000</span>
    <span class="n">mu</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">5.0</span>
    <span class="n">sigma</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">5.0</span>
    <span class="n">bins</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">log</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>


<span class="n">state_manager</span> <span class="o">=</span> <span class="n">StateManager</span><span class="p">(</span><span class="n">AppState</span><span class="p">)</span>

<span class="k">with</span> <span class="n">st</span><span class="o">.</span><span class="n">sidebar</span><span class="p">:</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">state_manager</span><span class="o">.</span><span class="n">form</span><span class="p">()</span>

<span class="k">with</span> <span class="n">st</span><span class="o">.</span><span class="n">expander</span><span class="p">(</span><span class="s2">&quot;State&quot;</span><span class="p">):</span>
    <span class="n">state_manager</span><span class="o">.</span><span class="n">text_area</span><span class="p">()</span>

<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">seed</span><span class="p">)</span>

<span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">mu</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">sigma</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">state</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>

<span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">state</span><span class="o">.</span><span class="n">bins</span><span class="p">)</span>

<span class="n">st</span><span class="o">.</span><span class="n">pyplot</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>
</code></pre></div>
<p>See <code>example.py</code> for a more complicated example and a demo of all of <strong>Statelit</strong>'s features.</p>
<h1 id="api">API</h1>
<h2 id="statelitmodel-attributes-and-methods"><code>StatelitModel</code> Attributes and Methods</h2>
<p>The following attributes and methods are part of the public API and are considered stable.</p>
<h3 id="statelitmodelpydantic_obj"><code>StatelitModel().pydantic_obj</code></h3>
<p>Pydantic object being used by the <code>StatelitModel()</code>.</p>
<h3 id="statelitmodelwidget"><code>StatelitModel().widget()</code></h3>
<p>Render a single widget for a single field.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>field_name: str</code> <strong>(required)</strong> - String name of the field to render a widget for.</li>
<li><code>key_suffix: Optional[str] = None</code> - Suffix to apply to the state key.</li>
<li><code>validate_output: bool = True</code> - If true, run the "<code>from_streamlit</code> callback" for this field before returning a value.</li>
<li><code>**kwargs</code> - Additional keyword arguments that will be passed to the Streamlit callback.</li>
</ul>
<p><strong>Returns:</strong> (<code>Any</code>) The value output by the Streamlit callback (i.e. the value of the widget), after running the <code>from_streamlit</code> callback if <code>validate_output</code> is True.</p>
<h3 id="statelitmodelform"><code>StatelitModel().form()</code></h3>
<p>Renders <em>all</em> widgets for the entire Pydantic <code>BaseModel</code>. Widgets are rendered in the order they're defined in the model.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>key_suffix: Optional[str] = None</code> - Suffix to apply to the state key.</li>
<li><code>exclude: Optional[List[str]] = None</code> - Which field names to exclude from rendering.</li>
<li><code>**kwargs</code> - Additional keyword arguments that will be passed to the Streamlit callback.</li>
</ul>
<p><strong>Returns:</strong> (<code>pydantic.BaseModel</code>) The Pydantic model object, <code>pydantic_obj</code>.</p>
<h3 id="statelitmodelcode"><code>StatelitModel().code()</code></h3>
<p>Renders Markdown syntax highlighted version of the JSON state.</p>
<p><strong>Returns:</strong> (<code>str</code>) JSON representation of the state.</p>
<h3 id="statelitmodeltext_area"><code>StatelitModel().text_area()</code></h3>
<p>Renders the JSON state as a text field. The JSON can be modified, and changing its value will update all other fields to match.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>key_suffix: Optional[str] = None</code> - Suffix to apply to the state key.</li>
<li><code>exclude: Optional[List[str]] = None</code> - Which field names to exclude from rendering.</li>
<li><code>validate_output: bool = True</code> - If true, run the "<code>from_streamlit</code> callback" before returning a value. In this case, validating the output is equivalent to converting the JSON <code>str</code> into the Pydantic object.</li>
<li><code>**kwargs</code> - Additional keyword arguments that will be passed to the Streamlit callback.</li>
</ul>
<p><strong>Returns:</strong> (<code>pydantic.BaseModel | str</code>) Either outputs the Pydantic object (equivalent to <code>StatelitModel().pydantic_obj</code>) if <code>validate_output</code> is <code>True</code>, or alternatively returns a <code>str</code> JSON representation of the state if <code>validate_output</code> is <code>False</code>.</p>
<h3 id="statelitmodellazy_text_area"><code>StatelitModel().lazy_text_area()</code></h3>
<p><strong>NOTE: This feature is buggy. Use at your own peril. Known bugs are that it does not work with Optional[T] and <code>statelit.types.DateRange</code>.</strong></p>
<p>Renders the JSON state as a "lazy" text field. The JSON can be modified, but changes won't be saved until the "Apply" button is pressed.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>key_suffix: Optional[str] = None</code> - Suffix to apply to the state key.</li>
<li><code>exclude: Optional[List[str]] = None</code> - Which field names to exclude from rendering.</li>
<li><code>validate_output: bool = True</code> - If true, run the "<code>from_streamlit</code> callback" before returning a value. In this case, validating the output is equivalent to converting the JSON <code>str</code> into the Pydantic object.</li>
<li><code>**kwargs</code> - Additional keyword arguments that will be passed to the Streamlit callback.</li>
</ul>
<p><strong>Returns:</strong> (<code>pydantic.BaseModel | str</code>) Either outputs the Pydantic object (equivalent to <code>StatelitModel().pydantic_obj</code>) if <code>validate_output</code> is <code>True</code>, or alternatively returns a <code>str</code> JSON representation of the state if <code>validate_output</code> is <code>False</code>.</p>
<h2 id="types">Types</h2>
<p>The following implementations are considered stable:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Widget</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>float</code></td>
<td><code>st.number_input</code></td>
<td></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>st.number_input</code></td>
<td></td>
</tr>
<tr>
<td><code>decimal.Decimal</code></td>
<td><code>st.number_input</code></td>
<td></td>
</tr>
<tr>
<td><code>str</code></td>
<td><code>st.text_input</code> or <code>st.text_area</code></td>
<td><code>st.text_area</code> is used if the default value contains a <code>\n</code>; otherwise, <code>st.text_input</code> is used.</td>
</tr>
<tr>
<td><code>enum.Enum</code></td>
<td><code>st.selectbox</code></td>
<td><code>st.radio</code> is also a good choice; set the <code>streamlit_widget</code> kwarg in the <code>Field()</code> to use that.</td>
</tr>
<tr>
<td><code>datetime.date</code></td>
<td><code>st.date_input</code></td>
<td></td>
</tr>
<tr>
<td><code>datetime.time</code></td>
<td><code>st.time_input</code></td>
<td></td>
</tr>
<tr>
<td><code>pydantic.ConstrainedInt</code></td>
<td><code>st.slider</code></td>
<td>Used when both <code>ge</code>/<code>gt</code> and <code>le</code>/<code>lt</code> are set; otherwise, use <code>st.number_input</code></td>
</tr>
<tr>
<td><code>pydantic.ConstrainedFloat</code></td>
<td><code>st.slider</code></td>
<td>Used when both <code>ge</code>/<code>gt</code> and <code>le</code>/<code>lt</code> are set; otherwise, use <code>st.number_input</code></td>
</tr>
<tr>
<td><code>pydantic.color.Color</code></td>
<td><code>st.color_picker</code></td>
<td>Colors are always converted to hex values.</td>
</tr>
<tr>
<td><code>dict[any, bool]</code></td>
<td><code>st.multiselect</code></td>
<td><code>True</code> if selected, <code>False</code> if not selected.</td>
</tr>
<tr>
<td><code>Set[enum.Enum]</code></td>
<td><code>st.multiselect</code></td>
<td>All <code>Enum</code> members are valid selections; set consists of selected members.</td>
</tr>
</tbody>
</table>
<p>The following implementations are considered <strong>experimental</strong> and are potentially subject to some future changes:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Widget</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>datetime.datetime</code></td>
<td><code>st.date_input</code></td>
<td>Time component is always cast to <code>00:00:00</code>. For true datetimes, at the moment, it is suggested you use separate <code>datetime.date</code> and <code>datetime.time</code>s and manually combine them.</td>
</tr>
<tr>
<td><code>statelit.types.DateRange</code></td>
<td><code>st.date_input</code></td>
<td>Custom type. Currently does not work with lazy state.</td>
</tr>
<tr>
<td><code>tuple[datetime.date, datetime.date]</code></td>
<td><code>st.date_input</code></td>
<td>Same as DateRange.</td>
</tr>
<tr>
<td><code>tuple[int, int]</code></td>
<td><code>st.slider</code></td>
<td>In the future, defaults (when default is <code>None</code>) and some kwargs will be set more intelligently.</td>
</tr>
<tr>
<td><code>tuple[float, float]</code></td>
<td><code>st.slider</code></td>
<td>In the future, defaults (when default is <code>None</code>) and some kwargs will be set more intelligently.</td>
</tr>
<tr>
<td><code>tuple[decimal.Decimal, decimal.Decimal]</code></td>
<td><code>st.slider</code></td>
<td>In the future, defaults (when default is <code>None</code>) and some kwargs will be set more intelligently.</td>
</tr>
<tr>
<td><code>list</code></td>
<td><code>st.text_area</code></td>
<td>Unclear if <code>list</code> will always be a text area in future versions.</td>
</tr>
<tr>
<td><code>dict</code></td>
<td><code>st.text_area</code></td>
<td>Unclear if <code>dict</code> will always be a text area in future versions.</td>
</tr>
<tr>
<td><code>set</code></td>
<td><code>st.text_area</code></td>
<td>Unclear if <code>set</code> will always be a text area in future versions.</td>
</tr>
</tbody>
</table>
<h2 id="notes-on-internals">Notes on internals</h2>
<p>Most users do not need this.</p>
<p>Note that Streamlit is a new project, and some of these implementations may be considered unstable until the <code>0.1.0</code> release.</p>
<h3 id="statefulobjectbase">StatefulObjectBase</h3>
<p>The <code>StatefulObjectBase</code> class is a Generic class that consists of shared internals for both model and field instances.</p>
<p>There are three types of state: <code>base</code>, <code>replicated</code>, and <code>lazy</code>:</p>
<ul>
<li><code>base</code> state is the source of truth for all state. Each <code>StatefulObjectBase</code> has only one <code>base</code> state.</li>
<li><code>replicated</code> state is always kept in sync with base state. If <code>replicated</code> state changes, then <code>base</code> state is updated.</li>
<li><code>lazy</code> state is updated when <code>base</code> state updates, but changes to lazy state will not update the base state by itself (for example, updating a lazy-state text field does not update base state, but a button may trigger a callable that updates the base state from the lazy state).</li>
</ul>
<p>State is represented by keys associated with each object. Note that keys are by default assigned automatically. If you want to support more dynamic rendering (that makes when widgets are rendered non-deterministic), please set a <code>key_suffix=</code>.</p>
<p><code>StatefulObjectBase</code>s also have methods that allow for conversion between Statelit and Pydantic called <code>to_streamlit</code> and <code>from_streamlit</code>.</p>
<h3 id="fieldfactorybase-dynamicfieldfactorybase-defaultfieldfactory">FieldFactoryBase, DynamicFieldFactoryBase &amp; DefaultFieldFactory</h3>
<p>Converting a Pydantic model field to a Statelit field mostly consists of checking <code>pydantic.fields.ModelField.type_</code>. However, there are additional complications that allow for greater control.</p>
<h3 id="converters-vs-callbacks-vs-fieldfactories">Converters vs Callbacks vs FieldFactories</h3>
<p>A callback is a callable that comes in one of three types: it is either a <code>widget</code>, <code>to_streamlit</code>, or <code>from_streamlit</code></p>
<p>A converter is a callable that takes in <code>(value: Any, field: pydantic.fields.ModelField, model: pydantic.BaseModel)</code>, and returns a callback.</p>
<p>A <code>FieldFactory</code> is a callable that takes in <code>(value: Any, field: pydantic.fields.ModelField, model: pydantic.BaseModel)</code>, and returns a <code>StatefulObjectBase</code></p>
<h1 id="known-issues">Known Issues</h1>
<ul>
<li>Pydantic 2.x not supported.</li>
<li><code>ValidationError</code>s are not handled right now and crash everything. They need to be handled gracefully.</li>
<li><code>DateRange</code> type, <code>tuple[T, T]</code> types, and <code>Optional[T]</code> do not currently work with <code>lazy_text_area()</code>. Sorry about that.</li>
<li>Using <code>flatten=True</code> for <code>StateManager.form()</code> does not sync with text areas and lazy text areas. (Flatten mode is still in development, and should be avoided if you are using text areas.)</li>
</ul>
<h1 id="trademark-copyright">Trademark &amp; Copyright</h1>
<p>Streamlit is a trademark of Streamlit Inc.</p>
<p>This package is <strong>unaffiliated</strong> with Streamlit Inc. and Pydantic.</p>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/dwreeves/Statelit" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://www.linkedin.com/in/daniel-reeves-27700545/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.0238f547.min.js"></script>
      
    
  </body>
</html>